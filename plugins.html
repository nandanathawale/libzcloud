<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Plugins &mdash; libzcloud v1.0alpha documentation</title>
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '',
          VERSION:     '1.0alpha',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="libzcloud v1.0alpha documentation" href="index.html" />
    <link rel="next" title="Headers" href="headers.html" />
    <link rel="prev" title="Model" href="model.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="headers.html" title="Headers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="model.html" title="Model"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">libzcloud v1.0alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="id1">
<span id="plugins"></span><h1>Plugins<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h1>
<p>Plugins are contained in shared objects (modules) which are found in plugin
directories.  The default plugin directory is <tt class="docutils literal"><span class="pre">$libdir/zcloud-plugins</span></tt>, but
this can be overridden and compile time (<tt class="docutils literal"><span class="pre">--with-zcplugindir</span></tt>) and at runtime
(<tt class="docutils literal"><span class="pre">$ZCPLUGINPATH</span></tt>).</p>
<p>Each plugin defines one prefix that can appear in store names, e.g., <tt class="docutils literal"><span class="pre">s3</span></tt>.
There can be more than one plugin per module.</p>
<p>Each module is accompanied by an XML file describing the plugins it contains.
The name of the XML file is not critical, but should match the name of the
shared object without the &#8220;lib&#8221; prefix.  For example, <tt class="docutils literal"><span class="pre">libs3.so</span></tt> is paired with
<tt class="docutils literal"><span class="pre">s3.xml</span></tt>.  The XML file has the following structure:</p>
<div class="highlight-python"><pre>&lt;zcloud-module basename="mycloud"&gt;
  &lt;store-plugin prefix="mycl"&gt;
  &lt;/store-plugin&gt;
&lt;/zcloud-module&gt;</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">basename</span></tt> given in the cloud-module tag is used to find the shared
object, and should name the object without any suffixes or prefixes.  The
shared object is assumed to reside in the same directory as the XML file.</p>
<p>This file will be expanded significantly to include machine-parsable
information on the specific characteristics of the plugin and other useful
information.</p>
<p>Note that, at present, the XML is parsed with the GLib <em>Simple XML Parser</em>,
which does not handle non-UTF8 encodings, user entities, or processing
instructions.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="model.html" title="previous chapter">Model</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="headers.html" title="next chapter">Headers</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="sources/plugins.txt">Show Source</a></li>
            </ul>
          <h3>Quick search</h3>
            <form class="search" action="search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="headers.html" title="Headers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="model.html" title="Model"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">libzcloud v1.0alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009-2009, Zmanda, Inc. (www.zmanda.com).
      Last updated on Jun 01, 2009.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.5.
    </div>
  </body>
</html>